<%
function getIngredientsArray(pizza) {
    //Отримує вміст піци
    var content = pizza.content;
    var result = [];

    //Object.keys повертає масив ключів в об’єкті JavaScript

    Object.keys(content).forEach(function (key) {

        //a.concat(b) створює спільний масив із масивів a та b
        result = result.concat(content[key]);
    });

    return result;
}
%>

<div class="col-md-6 col-lg-4">
    <% let tag = "";
    if (pizza.is_new) {
        tag = "tag-new";
    } else if (pizza.is_popular) {
        tag = "tag-popular";
    } %>
    <div class="thumbnail pizza-card <%= tag %>">
        <div class="thumbnail pizza-card">
            <div class="card-wrapper">
                <img src="<%= pizza.icon %>" alt="">

                <div class="caption"><h3><%= pizza.title %></h3>
                    <p class="pizza-type"><%= pizza.type %></p>
                    <p class="ingredients"><%= getIngredientsArray(pizza).join(", ") %></p>
                    <div class="pizza-options">
                        <div class="row">
                            <% if("small_size" in pizza){ %>
                                <div class="col-sm-6">

                                    <span class="pizza-size-icon"><%= pizza.small_size.size %></span>
                                    <p>
                                        <span class="pizza-weight-icon"><%= pizza.small_size.weight %></span>
                                    </p>
                                    <span class="pizza-prise"><%= pizza.small_size.price %></span>
                                    <span>грн.</span>
                                    <button class="btn btn-warning buy-small">Купити</button>
                                </div>
                            <% } %>

                            <% if("big_size" in pizza){ %>
                                <div class="col-sm-6">
                                    <span class="pizza-size-icon"><%= pizza.big_size.size %></span>
                                    <p>
                                        <span class="pizza-weight-icon"><%= pizza.big_size.weight %></span>
                                    </p>
                                    <span class="pizza-prise"><%= pizza.big_size.price %></span>
                                    <span>грн.</span>
                                    <button class="btn btn-warning buy-big">Купити</button>
                                </div>
                            <% } %>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
